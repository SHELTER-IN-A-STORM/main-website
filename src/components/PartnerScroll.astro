---
import { siteConfig } from '../config/site';

// Double the partners array to create a seamless scroll
const partners = [...siteConfig.shelter.partners, ...siteConfig.shelter.partners];
---

<div class="relative overflow-hidden bg-gray-50 py-12">
    <div class="flex space-x-8 animate-scroll hover:pause">
        {partners.map((partner) => (
            <div class="flex-none">
                <a 
                    href={partner.url}
                    target="_blank"
                    rel="noopener noreferrer" 
                    class="group block bg-white p-6 rounded-xl shadow-md hover:shadow-lg transition-all duration-300 w-[200px] relative"
                >
                    <div class="flex items-center justify-center h-[100px] w-[168px]">
                        {partner.logo ? (
                            <img 
                                src={partner.logo} 
                                alt={`${partner.name} logo`} 
                                class="max-h-[80px] w-full object-contain"
                                loading="lazy"
                            />
                        ) : (
                            <div class="text-center">
                                <span class="text-xl font-bold text-brand">{partner.name}</span>
                            </div>
                        )}
                    </div>
                    <!-- Hover Arrow -->
                    <div class="absolute inset-0 flex items-center justify-center bg-black/0 group-hover:bg-black/5 transition-all duration-300">
                        <div class="opacity-0 group-hover:opacity-100 transform group-hover:scale-110 transition-all duration-300 bg-white/90 p-3 rounded-full shadow-lg">
                            <svg class="w-6 h-6 text-brand" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
                            </svg>
                        </div>
                    </div>
                </a>
            </div>
        ))}
        {/* Duplicate for seamless loop */}
        {partners.map((partner) => (
            <div class="flex-none">
                <a 
                    href={partner.url}
                    target="_blank"
                    rel="noopener noreferrer" 
                    class="group block bg-white p-6 rounded-xl shadow-md hover:shadow-lg transition-all duration-300 w-[200px] relative"
                >
                    <div class="flex items-center justify-center h-[100px] w-[168px]">
                        {partner.logo ? (
                            <img 
                                src={partner.logo} 
                                alt={`${partner.name} logo`} 
                                class="max-h-[80px] w-full object-contain"
                                loading="lazy"
                            />
                        ) : (
                            <div class="text-center">
                                <span class="text-xl font-bold text-brand">{partner.name}</span>
                            </div>
                        )}
                    </div>
                    <!-- Hover Arrow -->
                    <div class="absolute inset-0 flex items-center justify-center bg-black/0 group-hover:bg-black/5 transition-all duration-300">
                        <div class="opacity-0 group-hover:opacity-100 transform group-hover:scale-110 transition-all duration-300 bg-white/90 p-3 rounded-full shadow-lg">
                            <svg class="w-6 h-6 text-brand" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
                            </svg>
                        </div>
                    </div>
                </a>
            </div>
        ))}
    </div>
</div>

<style>
    .animate-scroll {
        animation: scroll 30s linear infinite;
        width: fit-content;
    }

    .animate-scroll:hover {
        animation-play-state: paused;
    }

    @keyframes scroll {
        0% {
            transform: translateX(0);
        }
        100% {
            transform: translateX(-50%);
        }
    }
</style> 